{% load static from staticfiles %}
{% load i18n %}

<nav class="navbar navbar-default">
  <div class="container-fluid">
  	<div class="navbar-header">
    	<div class='mobile-show'>
        	<div class='small-headerLogo'></div>
        </div>
      <button type="button" class="navbar-toggle small-logo" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>
      <a class="navbar-brand" href="#"></a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav">
		<li><a href="/#opinion">{% trans "Democracy" %}</a></li>
        <li><a href="/#opinion">{% trans "Problem" %}</a></li>
        <li><a href="/#contribute">{% trans "Odisseia" %}</a></li>
          <!-- 
        {% if user.is_authenticated %}
        <li><a href="/profile">{% trans "My profile" %}</a></li>
        <li><a href="/dashboard/">{% trans "Explore" %}</a></li>
        <li><a href="{% url 'new_issue_view' %}"><span class="label label-default">{% trans "Propose an isue!" %}</span></a></li>   
        	{% if user.is_staff %}
        	<li><a href="{% url 'pending_issues_view' %}">{% trans "Issues to be approved" %}</a></li>
        	{% endif %}
        {% endif %}
-->
      </ul>
      {% include "magazine/set_language_view.html" %}
        <!--
      <ul class="nav navbar-nav navbar-right">
       {% if user.is_authenticated %}
        <li><a href="/accounts/logout"><span class="glyphicon glyphicon-log-in"></span>  {% trans "Logout" %}</a></li>
        {% else %}
        <li><a href="/accounts/login"><span class="glyphicon glyphicon-log-in"></span>  {% trans "Login" %}</a></li>
        <li><a href="/accounts/signup">{% trans "Signup" %}</a></li>
        {% endif %}   -->     
      </ul>
    </div>
  </div>
</nav>

<script type="text/javascript">
(function () {
    var Message;
    Message = function (arg) {
        this.text = arg.text, this.message_side = arg.message_side;
        this.draw = function (_this) {
            return function () {
                var $message;
                $message = $($('.message_template').clone().html());
                $message.addClass(_this.message_side).find('.text').html(_this.text);
                $('.messages').append($message);
                return setTimeout(function () {
                    return $message.addClass('appeared');
                }, 0);
            };
        }(this);
        return this;
    };
    $(function () {
        var getMessageText, message_side, sendMessage;
        message_side = 'right';
        getMessageText = function () {
            var $message_input;
            $message_input = $('.message_input');
            return $message_input.val();
        };
        sendMessage = function (text) {
            var $messages, message;
            if (text.trim() === '') {
                return;
            }
            $('.message_input').val('');
            $messages = $('.messages');
            message_side = message_side === 'left' ? 'right' : 'left';
            message = new Message({
                text: text,
                message_side: message_side
            });
            message.draw();
            return $messages.animate({ scrollTop: $messages.prop('scrollHeight') }, 300);
        };
        $('.send_message').click(function (e) {
            return sendMessage(getMessageText());
        });
        $('.message_input').keyup(function (e) {
            if (e.which === 13) {
                return sendMessage(getMessageText());
            }
        });
        sendMessage('1A society.');
        setTimeout(function () {
            return sendMessage('2Between');
        }, 3000);
                setTimeout(function () {
            return sendMessage('4Between');
        }, 4000);
                        setTimeout(function () {
            return sendMessage('5Between');
        }, 5000);
                                setTimeout(function () {
            return sendMessage('6Between');
        }, 6000);
                                setTimeout(function () {
            return sendMessage('7Between');
        }, 7000);

        return setTimeout(function () {
            return sendMessage('Test');
        }, 2000);

    });
}.call(this));
</script>